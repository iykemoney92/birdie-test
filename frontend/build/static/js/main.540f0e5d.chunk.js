(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(43),s=a.n(r),o=(a(127),a(19)),i=a(34),l=a.n(i),j=a(59),d=a(11),b=a(206),u=a(205),O=a(204),x=(a(38),a(200)),h=a(213),p=a(201),m=a(192),f=a(211),y=a(216),v=a(27),g=a(107),C=a(17),_=a(195),Y=a(194),S=a(203),M=a(198),k=a(199),w=a(191),D=a(196),T=function(e){for(var t=e.split(" "),a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].substr(1);return t.join(" ")},E=function(e){return T(e.replaceAll("_"," "))},I=a(207),L=a(184),A=a(208),B=a(209),P=a(210),F=a(187),U=a(112),W=a(29),H=a.n(W),R=a(1),J=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{}),Object(R.jsx)(B.a,{})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsxs)(U.a,{variant:"body2",children:[Object(R.jsx)("strong",{children:e.props.user})," was ",Object(R.jsx)("span",{className:"happy"===e.props.payload.mood.toLowerCase()?"MuiCustom  MuiCustomHappy":"sad"===e.props.payload.mood.toLowerCase()?"MuiCustom  MuiCustomSad":"okay"===e.props.payload.mood.toLowerCase()?"MuiCustom  MuiCustomOkay":"MuiCustom  MuiCustomAny",children:e.props.payload.mood})]})})})]})},z=a(99),G=a.n(z),N=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(G.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsxs)(U.a,{variant:"body2",children:[e.props.user," had a ",Object(R.jsx)(M.a,{label:T(e.props.payload.fluid),variant:"outlined",color:e.props.payload.observed?"success":"error"})," drink"]})})})]})},q=a(100),K=a.n(q),Q=function(e){return console.log(e),Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(K.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsx)(U.a,{variant:"body2",children:E(e.props.event_type)})})})]})},V=a(101),X=a.n(V),Z=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(X.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsx)(U.a,{variant:"body2",children:e.props.payload.note})})})]})},$=a(102),ee=a.n($),te=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(ee.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsx)(U.a,{variant:"body2",children:e.props.payload.medication_type})})})]})},ae=a(103),ne=a.n(ae),ce=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(ne.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsx)(U.a,{variant:"body2",children:e.props.payload.task_definition_description})})})]})},re=a(104),se=a.n(re),oe=function(e){return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(L.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"text.secondary",children:Object(R.jsx)(H.a,{format:"YYYY/MM/DD hh:mm a",children:e.props.timestamp})}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(B.a,{}),Object(R.jsx)(P.a,{children:Object(R.jsx)(se.a,{})})]}),Object(R.jsx)(F.a,{children:Object(R.jsx)(f.a,{sx:{p:3},children:Object(R.jsx)(U.a,{variant:"body2",children:E(e.props.event_type)})})})]})},ie=function(e,t){switch(t.type){case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});default:return e}},le={user:"Bob"},je=Object(n.createContext)(le),de=function(e){var t=Object(n.useReducer)(ie,le),a=Object(d.a)(t,2),c=a[0],r=a[1];return Object(R.jsx)(je.Provider,{value:Object(o.a)(Object(o.a)({},c),{},{setUser:function(e){return r({type:"SET_USER",payload:e})}}),children:e.children})};v.d.register(v.a,v.l,v.f);var be=function(e){var t=Object(C.g)().id,a=Object(n.useContext)(je).user,c=Object(n.useState)(20),r=Object(d.a)(c,2),s=r[0],i=r[1],v=Object(n.useState)([]),T=Object(d.a)(v,2),I=T[0],L=T[1],A=Object(n.useState)(),B=Object(d.a)(A,2),P=B[0],F=B[1],U=Object(n.useState)(),W=Object(d.a)(U,2),H=W[0],z=W[1],G=Object(n.useState)(),q=Object(d.a)(G,2),K=q[0],V=q[1],X=Object(n.useState)([]),$=Object(d.a)(X,2),ee=$[0],ae=$[1],ne=Object(n.useState)([]),re=Object(d.a)(ne,2),se=re[0],ie=re[1],le=Object(n.useState)(!0),de=Object(d.a)(le,2),be=de[0],ue=de[1],Oe=Object(n.useState)({labels:[],datasets:[{label:"Observations",data:[],backgroundColor:[],borderColor:[],borderWidth:.5}]}),xe=Object(d.a)(Oe,2),he=xe[0],pe=xe[1],me=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(I.slice(0,s)),i(s+25);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,n,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a={},n=[],c=[],[],t.forEach((function(e){null==a[e.payload.event_type]?a[e.payload.event_type]=1:a[e.payload.event_type]+=1})),(n=Object.keys(a)).forEach((function(e,t,a){return a[t]=E(a[t])})),r=Object.values(a),s=0;s<r.length;s++)c.push("#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0").toUpperCase());pe(Object(o.a)(Object(o.a)({},he),{},{labels:n,datasets:[Object(o.a)(Object(o.a)({},he.datasets[0]),{},{data:r,borderColor:c,backgroundColor:c})]}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){ue(!0),fetch("api/"+(null!=t?t:null===e||void 0===e?void 0:e.id)).then(function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,L(a.data),ie(a.data.slice(0,25)),fe(a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)})).finally((function(){ue(!1)}))};return Object(n.useEffect)((function(){setTimeout((function(){fetch("api/event_types").then(function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,ae(a.data),ye();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}))}))}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)(x.a,{open:be,sx:{zIndex:1e3},children:Object(R.jsx)(h.a,{})}),Object(R.jsxs)(p.a,{container:!0,style:{padding:"3rem"},children:[Object(R.jsx)(p.a,{item:!0,xs:12,children:Object(R.jsx)(p.a,{item:!0,lg:6,sx:{mb:3},children:Object(R.jsxs)(m.a,{severity:"success",children:["Hello ",Object(R.jsx)("span",{role:"img","aria-label":"smiley",children:"\ud83e\udd70"})," and welcome!!!"]})})}),Object(R.jsx)(p.a,{item:!0,xs:12,children:Object(R.jsx)(p.a,{item:!0,lg:6,sx:{mb:3},children:Object(R.jsxs)(m.a,{severity:"info",children:["Welcome to Birdie \ud83d\udc26 observation dashboard, this will help you visualize how we have observed ",a," "]})})}),Object(R.jsx)(p.a,{item:!0,lg:6,xs:12,children:Object(R.jsx)(f.a,{sx:{m:1,minHeight:500},children:Object(R.jsx)(g.a,{data:he,options:{maintainAspectRatio:!1},height:450})})}),Object(R.jsx)(p.a,{item:!0,lg:6,xs:12,children:Object(R.jsx)(f.a,{sx:{m:1,minHeight:500},children:he.labels.map((function(e,t){return Object(R.jsx)(M.a,{avatar:Object(R.jsx)(k.a,{children:he.datasets[0].data[t]}),sx:{m:1,backgroundColor:he.datasets[0].backgroundColor[t]},label:e})}))})}),Object(R.jsx)(p.a,{item:!0,lg:4,sx:{mb:3},xs:12,children:Object(R.jsxs)(S.a,{fullWidth:!0,children:[Object(R.jsx)(_.a,{children:"Sort By"}),Object(R.jsx)(w.a,{labelId:"sort-select-label",id:"sort-select",value:P,label:"Sort By",onChange:function(e){console.log(e),F(e.target.value)},children:ee.map((function(e){return Object(R.jsx)(Y.a,{value:e,children:E(e.event_type)})}))})]})}),Object(R.jsx)(p.a,{item:!0,lg:4,sx:{mb:3},xs:12,children:Object(R.jsx)(S.a,{fullWidth:!0,children:Object(R.jsx)(D.a,{id:"datetime-local-from",label:"From",type:"datetime-local",InputLabelProps:{shrink:!0},value:H,onChange:function(e){console.log(e),z(e.target.value)}})})}),Object(R.jsx)(p.a,{item:!0,lg:4,sx:{mb:3},xs:12,children:Object(R.jsx)(S.a,{fullWidth:!0,children:Object(R.jsx)(D.a,{id:"datetime-local-to",label:"To",type:"datetime-local",InputLabelProps:{shrink:!0},value:K,onChange:function(e){V(e.target.value)}})})}),Object(R.jsx)(p.a,{item:!0,lg:12,sx:{mb:3},children:Object(R.jsx)(O.a,{sx:{textAlign:"center"},children:Object(R.jsxs)(u.a,{variant:"contained",children:[Object(R.jsx)(b.a,{onClick:function(){var a="api/"+(null!=t?t:null===e||void 0===e?void 0:e.id)+(null==P||null!=K&&null!=H?null==P&&null!=K&&null!=H?"/search":null!=P||null!=K&&null!=H?"/events/"+P.event_type+"/search":"":"/events/"+P.event_type),n=(null==P||null!=K&&null!=H)&&(null==P&&null!=K&&null!=H||null!=P||null!=K&&null!=H)?"POST":"GET",c=null!=K&&null!=H?{from:new Date(H).toISOString(),to:new Date(K).toISOString()}:{};ue(!0),fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:"GET"==n?null:JSON.stringify(c)}).then(function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,L(a.data),ie(a.data.slice(0,25)),fe(a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)})).finally((function(){ue(!1)}))},id:"search",children:"Search"}),Object(R.jsx)(b.a,{color:"secondary",onClick:function(){F(null),z(null),V(null),ye()},id:"clear",children:"Clear"})]})})}),Object(R.jsxs)(p.a,{item:!0,style:{textAlign:"center"},xs:12,id:"timeline-container",children:[Object(R.jsx)("h3",{children:"Timeline"}),Object(R.jsx)(y.a,{position:"alternate",children:se.map((function(e){return"fluid_intake_observation"==e.payload.event_type?Object(R.jsx)(N,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):"mood_observation"==e.payload.event_type?Object(R.jsx)(J,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):"physical_health_observation"==e.payload.event_type?Object(R.jsx)(Z,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):"task_completed"==e.payload.event_type?Object(R.jsx)(ce,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):"regular_medication_taken"==e.payload.event_type?Object(R.jsx)(te,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):"visit_completed"==e.payload.event_type?Object(R.jsx)(oe,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})}):Object(R.jsx)(Q,{props:Object(o.a)(Object(o.a)({},e),{},{user:a})})}))})]}),Object(R.jsx)(p.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(R.jsx)(b.a,{variant:"contained",onClick:function(e){return me()},id:"load-more",children:"Load More"})})]})]})},ue=a(85),Oe=function(){return Object(R.jsx)(de,{children:Object(R.jsx)(ue.a,{children:Object(R.jsx)(C.c,{children:Object(R.jsx)(C.a,{path:"/:id",element:Object(R.jsx)(be,{props:null})})})})})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,218)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(Oe,{})}),document.getElementById("root")),xe()},38:function(e,t,a){}},[[135,1,2]]]);
//# sourceMappingURL=main.540f0e5d.chunk.js.map